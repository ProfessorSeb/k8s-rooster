apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # PII Protection (4 policies)
  - pii-protection.yaml
  # Prompt Injection / Jailbreak Prevention (3 policies)
  - prompt-injection.yaml
  # Credential Leak Protection (3 policies)
  - credential-protection.yaml
  # Prompt Enrichment / Elicitation (5 policies)
  - elicitation.yaml

  # MCP Authentication — Okta JWKS service + JWT validation
  - okta-jwks-service.yaml
  - mcp-jwt-auth.yaml
  # MCP Authorization — Scope-based tool access (read/write + block destructive)
  - mcp-tool-rbac.yaml

  # MCP Tool Auth (legacy, disabled)
  # - github-mcp-read-only-policy.yaml
  # - github-mcp-safe-ops-policy.yaml
  # - mcp-block-echo-getenv-policy.yaml

namespace: agentgateway-system
